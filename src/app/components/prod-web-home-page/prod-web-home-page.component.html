<div class="tab-container">
  <div class="tab-buttons">
    <button [class.active]="activeTab === 'install'" (click)="activeTab = 'install'">📥 How to Install</button>
    <button [class.active]="activeTab === 'usage'" (click)="activeTab = 'usage'">💡 How to Use</button>
    <button [class.active]="activeTab === 'about'" (click)="activeTab = 'about'">👨‍💻 About Me</button>
  </div>

  <div class="tab-content" *ngIf="activeTab === 'install'">
    <h2>How to Install</h2>
    <div class="step wizard" [@fadeIn]>
      <img *ngIf="installSteps[installStepIndex].img"
        [src]="'../../../assets/howTo/' + installSteps[installStepIndex].img"
        (click)="openImageDialog('../../../assets/howTo/' + installSteps[installStepIndex].img)" />

      <p>{{ installSteps[installStepIndex].text }}</p>

      <div *ngIf="installSteps[installStepIndex].file" class="file-card">
        <img [src]="'../../../assets/icons/' + installSteps[installStepIndex].file?.type + '.png'" />
        <a class="file-name"
          [href]="'../../../assets/files/' + installSteps[installStepIndex].file?.src + '.' + installSteps[installStepIndex].file?.type"
          download>
          {{ installSteps[installStepIndex].file?.src }}.{{ installSteps[installStepIndex].file?.type }}
        </a>
      </div>

      <div class="nav-buttons">
        <button mat-icon-button (click)="prevStep('install')" [disabled]="installStepIndex === 0">
          <mat-icon>navigate_before</mat-icon>
        </button>
        <button mat-icon-button (click)="nextStep('install')" [disabled]="installStepIndex === installSteps.length - 1">
          <mat-icon>navigate_next</mat-icon>
        </button>
      </div>

      <div class="step-indicators">
        <button *ngFor="let step of installSteps; let i = index" [class.active]="i === installStepIndex"
          (click)="goToStep('install', i)">
          {{ i + 1 }}
        </button>
      </div>
    </div>
  </div>

  <div class="tab-content" *ngIf="activeTab === 'usage'">
    <h2>How to Use</h2>
    <div class="step" *ngFor="let step of usageSteps; let i = index">
      <div class="step-number">Step {{ i + 1 }}</div>
      <p>{{ step.text }}</p>
      <img *ngIf="step.img" [src]="'../../../assets/howTo/' + step.img" [alt]="step.text" />
    </div>
  </div>

  <div class="tab-content" *ngIf="activeTab === 'about'">
    <h2>About Me</h2>
    <p>I'm the developer of this app, created to help users track finances with complete privacy.</p>
    <p>All data stays on your device and is never uploaded.</p>
    <p>Thank you for supporting this project!</p>
  </div>
</div>